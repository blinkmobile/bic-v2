(function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5",t):t()
})(function(){function t(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t
}function n(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e
}function r(t){var e,r,o;if(n(t))return t;if(r=t.valueOf,"function"==typeof r&&(e=r.call(t),n(e)))return e;
if(o=t.toString,"function"==typeof o&&(e=o.call(t),n(e)))return e;throw new TypeError
}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);
var r=p.call(arguments,1),o=function(){if(this instanceof o){var t=n.apply(this,r.concat(p.call(arguments)));
return Object(t)===t?t:this}return n.apply(e,r.concat(p.call(arguments)))};return n.prototype&&(t.prototype=n.prototype,o.prototype=new t,t.prototype=null),o
});var o,i,a,s,u,c=Function.prototype.call,l=Array.prototype,f=Object.prototype,p=l.slice,h=c.bind(f.toString),d=c.bind(f.hasOwnProperty);
if((u=d(f,"__defineGetter__"))&&(o=c.bind(f.__defineGetter__),i=c.bind(f.__defineSetter__),a=c.bind(f.__lookupGetter__),s=c.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length){var y=Array.prototype.splice;
Array.prototype.splice=function(t,e){return arguments.length?y.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]
}}if(1!=[].unshift(0)){var g=Array.prototype.unshift;Array.prototype.unshift=function(){return g.apply(this,arguments),this.length
}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==h(t)});var v=Object("a"),m="a"!=v[0]||!(0 in v);
if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=arguments[1],o=-1,i=n.length>>>0;
if("[object Function]"!=h(t))throw new TypeError;for(;i>++o;)o in n&&t.call(r,n[o],o,e)
}),Array.prototype.map||(Array.prototype.map=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=n.length>>>0,o=Array(r),i=arguments[1];
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in n&&(o[a]=t.call(i,n[a],a,e));
return o}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=F(this),r=m&&"[object String]"==h(this)?this.split(""):n,o=r.length>>>0,i=[],a=arguments[1];
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var s=0;o>s;s++)s in r&&(e=r[s],t.call(a,e,s,n)&&i.push(e));
return i}),Array.prototype.every||(Array.prototype.every=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=n.length>>>0,o=arguments[1];
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var i=0;r>i;i++)if(i in n&&!t.call(o,n[i],i,e))return!1;
return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=n.length>>>0,o=arguments[1];
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var i=0;r>i;i++)if(i in n&&t.call(o,n[i],i,e))return!0;
return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=n.length>>>0;
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");
var o,i=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i++];
break}if(++i>=r)throw new TypeError("reduce of empty array with no initial value")
}for(;r>i;i++)i in n&&(o=t.call(void 0,o,n[i],i,e));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=F(this),n=m&&"[object String]"==h(this)?this.split(""):e,r=n.length>>>0;
if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");
var o,i=r-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i--];
break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")
}do i in this&&(o=t.call(void 0,o,n[i],i,e));while(i--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var n=m&&"[object String]"==h(this)?this.split(""):F(this),r=n.length>>>0;
if(!r)return-1;var o=0;for(arguments.length>1&&(o=e(arguments[1])),o=o>=0?o:Math.max(0,r+o);r>o;o++)if(o in n&&n[o]===t)return o;
return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var n=m&&"[object String]"==h(this)?this.split(""):F(this),r=n.length>>>0;
if(!r)return-1;var o=r-1;for(arguments.length>1&&(o=Math.min(o,e(arguments[1]))),o=o>=0?o:r-Math.abs(o);o>=0;o--)if(o in n&&t===n[o])return o;
return-1}),!Object.keys){var b=!0,w=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],E=w.length;
for(var S in{toString:null})b=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");
var e=[];for(var n in t)d(t,n)&&e.push(n);if(b)for(var r=0,o=E;o>r;r++){var i=w[r];
d(t,i)&&e.push(i)}return e}}var A=-621987552e5,x="-000001";Date.prototype.toISOString&&-1!==new Date(A).toISOString().indexOf(x)||(Date.prototype.toISOString=function(){var t,e,n,r,o;
if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");
for(r=this.getUTCFullYear(),o=this.getUTCMonth(),r+=Math.floor(o/12),o=(o%12+12)%12,t=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),e=t.length;e--;)n=t[e],10>n&&(t[e]="0"+n);
return r+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"
});var T=!1;try{T=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(A).toJSON().indexOf(x)&&Date.prototype.toJSON.call({toISOString:function(){return!0
}})}catch(j){}if(T||(Date.prototype.toJSON=function(){var t,e=Object(this),n=r(e);
if("number"==typeof n&&!isFinite(n))return null;if(t=e.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");
return t.call(e)}),Date=function(t){function e(n,r,o,i,a,s,u){var c=arguments.length;
if(this instanceof t){var l=1==c&&n+""===n?new t(e.parse(n)):c>=7?new t(n,r,o,i,a,s,u):c>=6?new t(n,r,o,i,a,s):c>=5?new t(n,r,o,i,a):c>=4?new t(n,r,o,i):c>=3?new t(n,r,o):c>=2?new t(n,r):c>=1?new t(n):new t;
return l.constructor=e,l}return t.apply(this,arguments)}function n(t,e){var n=e>1?1:0;
return o[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)
}var r=RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),o=[0,31,59,90,120,151,181,212,243,273,304,334,365];
for(var i in t)e[i]=t[i];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var o=r.exec(e);
if(o){var i,a=Number(o[1]),s=Number(o[2]||1)-1,u=Number(o[3]||1)-1,c=Number(o[4]||0),l=Number(o[5]||0),f=Number(o[6]||0),p=Number(o[7]||0),h=!o[4]||o[8]?0:Number(new t(1970,0)),d="-"===o[9]?1:-1,y=Number(o[10]||0),g=Number(o[11]||0);
return(l>0||f>0||p>0?24:25)>c&&60>l&&60>f&&1e3>p&&s>-1&&12>s&&24>y&&60>g&&u>-1&&n(a,s+1)-n(a,s)>u&&(i=60*(24*(n(a,s)+u)+c+y*d),i=1e3*(60*(i+l+g*d)+f)+p+h,i>=-864e13&&864e13>=i)?i:0/0
}return t.parse.apply(this,arguments)},e}(Date),Date.now||(Date.now=function(){return(new Date).getTime()
}),"0".split(void 0,0).length){var O=String.prototype.split;String.prototype.split=function(t,e){return void 0===t&&0===e?[]:O.apply(this,arguments)
}}if("".substr&&"b"!=="0b".substr(-1)){var R=String.prototype.substr;String.prototype.substr=function(t,e){return R.call(this,0>t?0>(t=this.length+t)?0:t:t,e)
}}var B="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||B.trim()){B="["+B+"]";
var k=RegExp("^"+B+B+"*"),M=RegExp(B+B+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");
return(this+"").replace(k,"").replace(M,"")}}var F=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");
return Object(t)}});var Hashtable=function(){function t(e){var n;if("string"==typeof e)return e;
if(typeof e.hashCode==l)return n=e.hashCode(),"string"==typeof n?n:t(n);if(typeof e.toString==l)return""+e;
try{return e+""}catch(r){return Object.prototype.toString.call(e)}}function e(t,e){return t.equals(e)
}function n(t,e){return typeof e.equals==l?e.equals(t):t===e}function r(t){return function(e){if(null===e)throw Error("null is not a valid "+t);
if(e===void 0)throw Error(t+" must not be undefined")}}function o(t,e,n,r){this[0]=t,this.entries=[],this.addEntry(e,n),null!==r&&(this.getEqualityFunction=function(){return r
})}function i(t){return function(e){for(var n,r=this.entries.length,o=this.getEqualityFunction(e);r--;)if(n=this.entries[r],o(e,n[0]))switch(t){case d:return!0;
case y:return n;case g:return[r,n[1]]}return!1}}function a(t){return function(e){for(var n=e.length,r=0,o=this.entries.length;o>r;++r)e[n+r]=this.entries[r][t]
}}function s(t,e){for(var n,r=t.length;r--;)if(n=t[r],e===n[0])return r;return null
}function u(t,e){var n=t[e];return n&&n instanceof o?n:null}function c(e,n){var r=this,i=[],a={},d=typeof e==l?e:t,y=typeof n==l?n:null;
this.put=function(t,e){p(t),h(e);var n,r,s=d(t),c=null;return n=u(a,s),n?(r=n.getEntryForKey(t),r?(c=r[1],r[1]=e):n.addEntry(t,e)):(n=new o(s,t,e,y),i[i.length]=n,a[s]=n),c
},this.get=function(t){p(t);var e=d(t),n=u(a,e);if(n){var r=n.getEntryForKey(t);if(r)return r[1]
}return null},this.containsKey=function(t){p(t);var e=d(t),n=u(a,e);return n?n.containsKey(t):!1
},this.containsValue=function(t){h(t);for(var e=i.length;e--;)if(i[e].containsValue(t))return!0;
return!1},this.clear=function(){i.length=0,a={}},this.isEmpty=function(){return!i.length
};var g=function(t){return function(){for(var e=[],n=i.length;n--;)i[n][t](e);return e
}};this.keys=g("keys"),this.values=g("values"),this.entries=g("getEntries"),this.remove=function(t){p(t);
var e,n=d(t),r=null,o=u(a,n);return o&&(r=o.removeEntryForKey(t),null!==r&&(o.entries.length||(e=s(i,n),f(i,e),delete a[n]))),r
},this.size=function(){for(var t=0,e=i.length;e--;)t+=i[e].entries.length;return t
},this.each=function(t){for(var e,n=r.entries(),o=n.length;o--;)e=n[o],t(e[0],e[1])
},this.putAll=function(t,e){for(var n,o,i,a,s=t.entries(),u=s.length,c=typeof e==l;u--;)n=s[u],o=n[0],i=n[1],c&&(a=r.get(o))&&(i=e(o,a,i)),r.put(o,i)
},this.clone=function(){var t=new c(e,n);return t.putAll(r),t}}var l="function",f=typeof Array.prototype.splice==l?function(t,e){t.splice(e,1)
}:function(t,e){var n,r,o;if(e===t.length-1)t.length=e;else for(n=t.slice(e+1),t.length=e,r=0,o=n.length;o>r;++r)t[e+r]=n[r]
},p=r("key"),h=r("value"),d=0,y=1,g=2;return o.prototype={getEqualityFunction:function(t){return typeof t.equals==l?e:n
},getEntryForKey:i(y),getEntryAndIndexForKey:i(g),removeEntryForKey:function(t){var e=this.getEntryAndIndexForKey(t);
return e?(f(this.entries,e[0]),e[1]):null},addEntry:function(t,e){this.entries[this.entries.length]=[t,e]
},keys:a(0),values:a(1),getEntries:function(t){for(var e=t.length,n=0,r=this.entries.length;r>n;++n)t[e+n]=this.entries[n].slice(0)
},containsKey:i(d),containsValue:function(t){for(var e=this.entries.length;e--;)if(t===this.entries[e][1])return!0;
return!1}},c}();(function(t){"use strict";var e,n=(t.BMP,{}),r={};n.createObjectURL=function(t,n){var o=e();
return!(!n||!n.autoRevoke)||!1,r[o]=t,"blob:"+o},n.revokeObjectURL=function(t){var e=t.replace("blob:","");
delete r[e]},n.retrieveObject=function(t){var e=t.replace("blob:","");return r[e]
},n.revokeAllObjectURLs=function(){r={}},e=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"===t?e:8|3&e;
return n.toString(16)})},t.BMP=t.BMP||{},t.BMP.URL=n})(this),function(t){"use strict";
var e,n;t.BMP=t.BMP||{},e=t.BMP,e.MIME=e.MIME||{},n=e.MIME,n.TEXT_TYPES=["application/javascript","application/json","application/x-javascript"],n.isText=function(t){return 0===t.indexOf("text/")?!0:-1!==n.TEXT_TYPES.indexOf(t)?!0:!1
}}(this),function(t){"use strict";var e,n,r,o,i=!0;t.BMP.MIME;try{e=new t.Blob,e=null
}catch(a){i=!1}o=function(e){var n,r="",o=new t.Uint8Array(e),i=o.byteLength;for(n=0;i>n;n++)r+=String.fromCharCode(o[n]);
return t.btoa(r)},n=function(t,e){var n;if(t&&!Array.isArray(t))throw Error("first argument should be an Array");
return e=e||{},this.size=0,this.type="",this.base64="",this.text="","object"==typeof e&&(this.type=e.type||this.type),t&&t.length&&(n=t[0],"string"==typeof n&&(0===n.indexOf("data:")&&"text/plain"===this.type?(this.size+=n.length,this.text+=n):(this.size+=n.length,this.base64+=n))),this
},n.createNative=function(e,r){var o;return r=r||{},i?new t.Blob(e,r):t.BlobBuilder?(o=new t.BlobBuilder,o.append(e),o.getBlob(r)):new n(e,r)
},n.fromBlobURL=function(e,r,o){r=r||function(){},o=o||function(){},t.URL&&t.URL.createObjectURL?n.nativelyFromBlobURL(e,r,o):this.fromNativeBlob(t.BMP.URL.retrieveObject(e),function(t){r(t)
},function(t){o(t)})},n.fromNativeBlob=function(e,r,o){var i=new t.FileReader;r=r||function(){},o=o||function(){},i.onload=function(t){var a;
i.onload=null;try{if(a=t.target.result,e=n.fromDataURI(t.target.result),!e)throw Error("Blob.fromNativeBlob: fromDataURI gave no blob")
}catch(s){return o(s),void 0}r(e)},i.onerror=function(t){i.onerror=null,o(t.target.error)
};try{i.readAsDataURL(e)}catch(a){i.onload=null,i.onerror=null,o(a)}},n.fromDataURI=function(e){var r,o,i,a,s=new n;
r=e.split(","),a=r[1],r=r[0].split(":"),r=r[1].split(";"),o=r[0],i=r[1],"base64"===i?s.base64=a:s.text=a,s.type=o,s.size=a.length;
try{s=n.fromDataURI(t.atob(s.base64)),s.makeNested()}catch(u){}return s},n.nativelyFromBlobURL=function(e,r,i){var a,s;
r=r||function(){},i=i||function(){},a=new t.XMLHttpRequest,a.onreadystatechange=function(){var e,a,u;
this.readyState===t.XMLHttpRequest.DONE&&(this.onreadystatechange=null,e=this.getResponseHeader("Content-Type"),200===this.status?("arraybuffer"===this.responseType?(a=o(this.response),s=new n([a],{type:e})):"blob"===this.responseType?n.fromNativeBlob(this.response,function(t){r(t)
},function(t){i(t)}):"document"===this.responseType?(u=new t.XMLSerializer,a=t.btoa(u.serializeToString(this.response)),s=new n([a],{type:e})):"json"===this.responseType?(a=t.btoa(JSON.stringify(this.response)),s=new n([a],{type:e})):s=new n([this.response],{type:e}),s?r(s):i(Error("error retrieving target Blob via Blob URL"))):i(Error(this.url+" -> "+this.status)))
},a.open("GET",e),a.send()},n.isNested=function(){},n.prototype.makeNested=function(){var t="data:";
t+=this.type,t+=";base64,",t+=this.base64,this.type="text/plain",this.text=t,this.base64=null
},n.prototype.undoNested=function(){var t=n.fromDataURI(this.text);this.type=t.type,this.base64=t.base64,this.text=null
},n.prototype.toNative=function(){return t.BMP.Blob.createNative([t.atob(this.base64)],{type:this.type})
},t.BMP=t.BMP||{},t.BMP.Blob=n,t.BMP.NestedBlob=r}(this),function(t){"use strict";
var e,n,r,o=t.Modernizr,i=t.document,a=t.jQuery;return o?(o.addTest("filereader",function(){return!!(t.File&&t.FileList&&t.FileReader)
}),o.addTest("positionfixed",function(){var e,n,r=i.createElement("div"),o=!1,s=i.body||function(){return o=!0,i.documentElement.appendChild(i.createElement("body"))
}(),u=s.style.cssText;return s.style.cssText="height: 3000px; margin: 0; padding; 0;",r.style.cssText="position: fixed; top: 100px",s.appendChild(r),t.scrollTo(0,500),n=a(r).offset(),e=600===n.top,e||void 0===r.getBoundingClientRect||(e=100===r.getBoundingClientRect().top),s.removeChild(r),s.style.cssText=u,t.scrollTo(0,1),o&&i.documentElement.removeChild(s),e
}),o.addTest("xpath",function(){var e=a.parseXML("<xml />");return!!t.XPathResult&&!!e.evaluate
}),o.addTest("documentfragment",function(){var t,e,n;try{return n=i.createElement("p"),t=i.createDocumentFragment(),e=i.createDocumentFragment(),e.appendChild(n),t.appendChild(e),n.parentNode!==t?!1:e.parentNode===t?!1:!0
}catch(r){return!1}}),o.inputtypes.file=function(){var t,e=navigator.userAgent,n=-1!==e.indexOf("Android"),r=n&&/Android 2\.(0|1)/.test(e);
return n&&(-1!==e.indexOf("Android 1.")||r)?!1:(t=i.createElement("input"),t.setAttribute("type","file"),t.disabled===!1)
}(),o.inputtypes.number=function(){var t,e;return o.inputtypes.number?(t=a('<input type="number" />'),t.val(1.5),e=t[0].checkValidity(),t.remove(),e):!1
}(),o.canvas&&(e=new Image,n=i.createElement("canvas"),r=n.getContext("2d"),e.onload=function(){r.drawImage(e,0,0),o.addTest("canvastodataurlpng",function(){return 0===n.toDataURL("image/png").indexOf("data:image/png")
}),o.addTest("canvastodataurljpeg",function(){return 0===n.toDataURL("image/jpeg").indexOf("data:image/jpeg")
}),o.addTest("canvastodataurlwebp",function(){return 0===n.toDataURL("image/webp").indexOf("data:image/webp")
})},e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="),void 0):(t.warn("Blink Modernizr tests need Modernizr to be included first."),void 0)
}(this),function(t){"use strict";var e=t.jQuery,n=t.Math;t.isBlinkGapDevice=function(){return t.PhoneGap&&"object"===e.type(t.device)&&t.device instanceof t.Device
},t.computeTimeout=function(t){var e=1e3/600;return n.floor(t*e+15e3)}}(this),function(t){"use strict";
var e,n=t.jQuery,r=n(t.document),o={history:[]},i=["log","error","warn","info"],a=function(){r.off("ready deviceready",a),setTimeout(function(){e=t.console||t.debug||{log:n.noop},n.each(i,function(r,o){var i=n.type(e[o]);
t[o]="function"===i?function(){e[o].apply(e,arguments)}:"object"===i?function(t){e[o](t)
}:"log"!==o?t.log:n.noop}),n.each(o.history,function(r,o){var i=t[o.fn],a=n.type(i);
"function"===a?i.apply(e,o.args):"object"===a&&i(o.args[0])}),delete o.history,n.each(i,function(t,e){delete o[e]
})},0)},s=function(){t.PhoneGap&&t.PhoneGap.available?o.history&&a():setTimeout(s,197)
};e=o,n.each(i,function(r,i){o[i]=function(){o.history.push({fn:i,args:n.makeArray(arguments)})
},t[i]=e[i]}),t.isBlinkGap?s():r.on("ready",a)}(this),function(t){var e=t.String;
e.prototype.hasEntities=function(){var t=this;return-1===t.indexOf("&")?!1:void 0
},e.prototype.repeat=function(t){var e,n="";for(e=0;t>e;e++)n+=this;return n}}(this),function(t){"use strict";
var e=t.Math,n=e.round;e.round=function(t,r){var o;return r&&0!==r?(o=e.pow(10,r),"number"==typeof r&&r>0&&(t=e.round(t*o)/o),t):n(t)
},"function"!=typeof e.uuid&&(e.uuid=function(){var t,n=e.uuid.CHARS,r=[],o=36;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4";o--;)r[o]||(t=0|16*e.random(),r[o]=n[19===o?8|3&t:t]);
return r.join("")},e.uuid.CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"])
}(this),function(t){"use strict";function e(t,e){var r=!0;return t&&"object"===n.type(t)?"array"===n.type(e)?(n.each(e,function(e,n){return t[n]===void 0?(r=!1,!1):!0
}),r):"object"===n.type(e)?(n.each(e,function(e,o){return n.type(t[e])!==o?(r=!1,!1):!0
}),r):!1:!1}var n=t.jQuery,r=n.fn.attr,o=n.fn.show;n.isObject=function(t){return"object"===n.type(t)
},n.isPromise=function(t){var n="function",r={always:n,done:n,fail:n,pipe:n,progress:n,promise:n,state:n,then:n};
return e(t,r)},n.isDeferred=function(t){var r="function",o={notify:r,notifyWith:r,reject:r,rejectWith:r,resolve:r,resolveWith:r};
return n.isPromise(t)?e(t,o):!1},n.fn.attr=function(){var t,e,o;return this[0]&&0===arguments.length?(o={},e=this[0].attributes,t=e.length,n.each(e,function(t,e){var n=e.name||e.nodeName,r=e.value||e.nodeValue;
n&&(o[n.toLowerCase()]=r)}),o):r.apply(this,arguments)},n.fn.show=function(){return this.removeAttr("hidden"),this.removeClass("hidden"),o.apply(this,arguments)
},n.fn.isHidden=function(){return this.prop("hidden")||this.hasClass("hidden")?!0:this[0]&&this[0].style&&"none"===this[0].style.display
},n.fn.tag=function(){var t;return this.length>0?(t=this[0].nodeName||this[0].tagName||"",t.toLowerCase()):""
},n.fn.tagHTML=function(){var t,e=n(this);return this[0]?(t="<"+e.tag(),n.each(e.attr(),function(e,n){t+=" "+e+'="'+n+'"'
}),t+=" />"):void 0},n.whenArray=function(t){return n.when.apply(n,t)},n.resolveTimeout=function(){var t=n.makeArray(arguments),e=t.shift();
return setTimeout(function(){e.resolve.apply(e,t)},0),this},n.fn.appendWithCheck=function(e,r,o,i){var a=n(this),s=new n.Deferred,u=t.MyAnswers;
return"string"!==n.type(o)&&(o=e.match(/>([^<>\0\n\f\r\t\v]+)</),o||(o=e.match(/(\w+)/)),o="array"===n.type(o)?o[0]:e),"number"!==n.type(i)&&u.dispatch.add(function(){i=a.html().lastIndexOf(o)
}),u.dispatch.add(function(){a.append(e)}),u.dispatch.add(function(){var t=a.html();
"string"!==n.type(t)||!t||t.lastIndexOf(o)>i?s.resolve():r>0?n.when(a.appendWithCheck(e,--r,o,i)).fail(s.reject).then(s.resolve):s.reject()
}),s.promise()},n.fn.childrenAsProperties=function(){var t={};return n(this).children().each(function(e,r){var o=n(r),i=o.tag(),a=o.text();
i.length>0&&a.length>0&&(t[i]=a)}),t},n.getCachedScript=function(t,e){return e=n.extend(e||{},{dataType:"script",cache:!0,url:t}),n.ajax(e)
}}(this),function(t){"use strict";var e=t.jQuery,n=t._Blink,r=t._SERVER,o={PREFIX_GZ:"/_c_/",SUFFIX_GZ:"",PREFIX:"/_c_/",SUFFIX:""},i=["css","js"],a=function(t){var a;
return a=n&&n.cfg&&n.cfg.CDN_PLATFORM,a=e.isObject(a)?a:{},a=e.extend({},o,a),t=t||r&&r.HTTP_ACCEPT_ENCODING,t="string"==typeof t?t:"",-1===t.indexOf("gzip")&&(a.PREFIX_GZ=a.PREFIX,a.SUFFIX_GZ=a.SUFFIX),this.getURL=function(t){var n;
return t&&"string"==typeof t?(t=e.trim(t),t=t.replace(/^\/*/,""),n=t.match(/\.?(\w+)$/),n="array"===e.type(n)?n[1]:"",n&&-1!==e.inArray(n,i)?a.PREFIX_GZ+t+a.SUFFIX_GZ:a.PREFIX+t+a.SUFFIX):""
},this};n.preloadPage=function(t){var n,r=e("<iframe></iframe>"),o=30,i=function(){r.remove()
},a=function(){o--,e(n.document.body).hasClass("s-ready")?i():0>o?(warn('preloadPage(): timed out waiting for "s-ready"'),i()):setTimeout(a,2e3)
};r.attr({height:10,width:10,src:t}),r.css({position:"absolute",top:"-50px",left:"-50px"}),e("body").append(r),n=r[0].contentWindow,e.isWindow(n)&&n.document?e(n.document.body).hasClass("s-ready")?i():setTimeout(a,2e3):warn("preloadPage(): unable to find Window or Document in <iframe>")
},n.stringifyDOM=function(e){var n;return e.xml?e.xml:t.XMLSerializer?(n=new t.XMLSerializer,n.serializeToString(e)):null
},n.hasFontFor=function(r){var o,i,a,s,u=n.hasFontFor;try{u.results||(u.results={}),"boolean"==typeof u.results[r]?o=u.results[r]:(i=e(t.document.body),a=e("<span>"+r+"</span>"),s=e("<span>&#xFFFD;</span>"),a.add(s).appendTo(i),o=a.innerWidth()!==s.innerWidth(),u.results[r]=o,a.add(s).remove())
}catch(c){error(error),o=!1}return o},t._Blink.cdnp=new a}(this),function(t){"use strict";
var e=t.jQuery,n=function(t){function n(){if(!o.isPaused&&null===r&&0!==o.queue.length){var t,i=o.queue.shift();
"function"==typeof i&&(t=i()),"function"==typeof e&&e()instanceof e&&t&&"object"==typeof t&&t.promise&&"function"==typeof t.promise?(r=0,e.when(t).always(function(){r=setTimeout(function(){r=null,n()
},o.interval)})):r=setTimeout(function(){r=null,n()},o.interval)}}var r=null,o=this;
return this.queue=[],this.interval=t||0,this.isPaused=!1,this.poke=function(){n()
},this.pause=function(){clearTimeout(r),r=null,this.isPaused=!0},this.resume=function(){this.isPaused=!1,n()
},this};n.prototype.add=function(t){this.queue.push(t),this.poke()},t.BlinkDispatch=n
}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.BMP=e(t,n),t.BMP
}):t.BMP=e(t,t.$)}(this,function(t,e){"use strict";var n,r,o,i,a,s,u=e(t.document),c=e(t.document.body),l=t.navigator||{},f={};
return n=t.BMP=t.BMP||{},e&&e.fn&&"string"==typeof e.fn.jquery?(o=function(){var t=e('<div id="bmp-dialog-async"></div>');
return t.hide(),c.append(t),t},f.jQueryUI=function(t,e){r=c.find("#bmp-dialog-async"),r.length||(r=o()),r.empty(),r.hasClass("ui-dialog-content")&&r.dialog("destroy"),r.append("<p>"+t+"</p>"),e.modal=!0,e.closeOnEscape=!0,r.dialog(e)
},i=function(){return e.fn.dialog},a=function(){return e.mobile&&e.fn.dialog},n.alertNoQueue=function(n,r){var o,a=new e.Deferred,s=l.notification||{},u=s.alert;
return r=r||{},r.ok="OK",o=function(){a.resolve()},"function"===e.type(u)?(r.title="Alert",u(n,o,r.title,r.ok)):i()?(r.title="Alert",r.buttons={},r.buttons[r.ok]=function(){e(this).dialog("close")
},r.close=o,f.jQueryUI(n,r)):(n=(r.title?r.title+" | ":"")+n,t.alert(n),a.resolve()),a.promise()
},n.confirmNoQueue=function(n,r){var o=new e.Deferred,a=l.notification||{},s=a.alert;
return r=r||{},r.ok=r.ok||"OK",r.cancel=r.cancel||"Cancel","function"===e.type(s)?(r.title=r.title||"Confirm",s(n,function(t){1===t?o.resolve(!0):o.resolve(!1)
},r.title,r.ok+","+r.cancel)):i()?(r.title=r.title||"Confirm",r.buttons={},r.buttons[r.cancel]=function(){e(this).dialog("close")
},r.buttons[r.ok]=function(){o.resolve(!0),e(this).dialog("close")},r.close=function(){o.isRejected()&&o.isResolved()||o.resolve(!1)
},f.jQueryUI(n,r)):(n=(r.title?r.title+" | ":"")+n,o.resolve(t.confirm(n))),o.promise()
},n.promptNoQueue=function(n,r,o){var a=new e.Deferred;return"string"!=typeof r&&(o=r,r=""),o=o||{},o.ok=o.ok||"OK",o.cancel=o.cancel||"Cancel",i()?(n+='</p><p><input type="text" value="'+r+'" />',o.title=o.title||"Prompt",o.buttons={},o.buttons[o.cancel]=function(){e(this).dialog("close")
},o.buttons[o.ok]=function(){var t=e(this);a.resolve(t.find("input").val()),t.dialog("close")
},o.close=function(){a.isRejected()&&a.isResolved()||a.resolve(null)},f.jQueryUI(n,o)):(n=(o.title?o.title+" | ":"")+n,a.resolve(t.prompt(n))),a.promise()
},s=function(t,n,r){return"string"==typeof n&&(n=t[n]),function(){var o=e.makeArray(arguments),i=new e.Deferred;
return u.queue(r,function(a){var s,c=e._data(u[0],r+"queue");return c.unshift("inprogress"),s=n.apply(t,o),s.then(function(){i.resolve.apply(i,e.makeArray(arguments)),c.shift(),a()
},function(){i.reject.apply(i,e.makeArray(arguments)),c.shift(),a()}),s}),u.queue(r).length&&"inprogress"!==u.queue(r)[0]&&u.dequeue(r),i.promise()
}},n.alert=s(this,n.alertNoQueue,"bmp-alerts"),n.confirm=s(this,n.confirmNoQueue,"bmp-alerts"),n.prompt=s(this,n.promptNoQueue,"bmp-alerts"),n):void 0
}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["underscore"],function(n){return t.BMP=e(t,n),t.BMP
}):t.BMP=e(t,t._)}(this,function(t,e){"use strict";var n,r,o;return n=t.BMP=t.BMP||{},r=n.BIC=n.BIC||{},o=function(t){this.cfg=t
},o.prototype.toCameraOptions=function(){var t,n={};if(e.isNumber(this.cfg.imageCaptureQuality)&&(n.quality=this.cfg.imageCaptureQuality),e.isNumber(this.cfg.imageCaptureScale)&&(n.imageScale=this.cfg.imageCaptureScale),e.isString(this.cfg.cameraOptions)){try{t=JSON.parse(this.cfg.cameraOptions),(!e.isObject(t)||e.isArray(t))&&(t={})
}finally{t=t||{}}e.extend(n,t)}return n},r.Config=o,n}),function(t){"use strict";
var e,n,r,o,i,a,s,u,c,l=t.jQuery,f=t.BMP,p=(f.alert,{}),h={},d=function(u,c,h){var d,y,g,v=this,m=new l.Deferred;
return("string"!=typeof c||1>c.length)&&(c="default"),("string"!=typeof h||1>h.length)&&(h="main"),"string"!=typeof u?u=e[0]:"sessionstorage"===u&&-1===l.inArray("sessionstorage",e)?u="memory":-1===l.inArray(u,e)&&(u=e[0]),v.type=u,v.partition=c,v.section=h,m.done(function(){a("BlinkStorage(): "+u+" -> "+c+" : "+h+" ready")
}),v.ready=function(){return m.promise()},"localstorage"===u||"sessionstorage"===u?(y="localstorage"===u?t.localStorage:t.sessionStorage,v.get=function(t){var e=new l.Deferred;
return e.resolve(y.getItem(c+":"+h+":"+t)),e.promise()},v.set=function(t,e){var n=new l.Deferred;
return y.setItem(c+":"+h+":"+t,e),n.resolve(),n.promise()},v.remove=function(t){var e=new l.Deferred;
return y.removeItem(c+":"+h+":"+t),e.resolve(),e.promise()},v.keys=function(){var t,e,n=new l.Deferred,r=[],o=y.length,i=c+":"+h+":";
for(t=0;o>t;t++)e=y.key(t),0===e.indexOf(i)&&r.push(e.replace(i,""));return n.resolve(r),n.promise()
},v.count=function(){var t=new l.Deferred;return l.when(v.keys()).done(function(e){t.resolve(e.length)
}),t.promise()},m.resolve()):"websqldatabase"===u?(n=1024*1024*(t.device?5:.75),r=function(t,e){var n=e&&t.executeSql?e:t;
return s("BlinkStorage error1: "+n.code+" "+n.message),(3===n.code||4===n.code||7===n.code)&&f.alert(n.code+"\n"+n.message,{title:"Storage error!"}),!1
},o=function(){y.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS `"+h+"` (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",[],m.resolve,m.reject)
},r,l.noop)},i=function(){try{y=t.openDatabase(c,"1.0",c,n),p[c]=y,y.readTransaction=y.readTransaction||y.transaction
}catch(e){throw m.reject(),"BlinkStorage: "+e}},d={get:"SELECT v FROM `"+h+"` WHERE k = ?",set:"INSERT OR REPLACE INTO `"+h+"` (k, v) VALUES (?, ?)",remove:"DELETE FROM `"+h+"` WHERE k = ?",keys:"SELECT k FROM `"+h+"`",count:"SELECT count(k) AS `count` FROM "+h},p[c]?y=p[c]:i(),o(),v.get=function(t){var e=new l.Deferred;
return y.readTransaction(function(n){n.executeSql(d.get,[t],function(t,n){1===n.rows.length?e.resolve(n.rows.item(0).v):(e.resolve(null),n.rows.length>1&&s("BlinkStorage: SELECT returned multiple rows"))
},r)},r,l.noop),e.promise()},v.set=function(t,e,n){var o=new l.Deferred,i=new l.Deferred,a=function(){setTimeout(function(){l.when(v.set(t,e,n)).fail(o.reject).then(o.resolve)
},2e3)};return n="number"!=typeof n?2:n,0>=n--?(o.reject(),o.promise()):(setTimeout(function(){y.transaction(function(n){n.executeSql(d.set,[t,e],function(t,e){1!==e.rowsAffected?(s("BlinkStorage: INSERT did not affect 1 row"),a()):i.resolve()
},function(t,e){r(e),a()})},function(t,e){r(t,e),a()},function(){"pending"===i.state()?a():o.resolve()
})},0),o.promise())},v.remove=function(t){var e=new l.Deferred;return y.transaction(function(n){n.executeSql(d.remove,[t],function(){e.resolve()
})},r,l.noop),e.promise()},v.keys=function(){var t=new l.Deferred;return y.readTransaction(function(e){e.executeSql(d.keys,[],function(e,n){var r,o,i=n.rows.length,a=[];
for(r=0;i>r;r++)o=n.rows.item(r),a.push(o.k);t.resolve(a)})},r,l.noop),t.promise()
},v.count=function(){var t=new l.Deferred;return y.readTransaction(function(e){e.executeSql(d.count,[],function(e,n){var r=n.rows.item(0).count;
l.isNumeric(r)?t.resolve(parseInt(r,10)):(s("BlinkStorage: SELECT count(k) non-numeric"),t.reject())
})},r,l.noop),t.promise()}):"memory"===u&&(g={},v.get=function(t){var e=new l.Deferred;
return e.resolve(g[c+":"+h+":"+t]),e.promise()},v.set=function(t,e){var n=new l.Deferred;
return g[c+":"+h+":"+t]=e,n.resolve(),n.promise()},v.remove=function(t){var e=new l.Deferred;
return delete g[c+":"+h+":"+t],e.resolve(),e.promise()},v.keys=function(){var t,e=new l.Deferred,n=[],r=c+":"+h+":";
for(t in g)g.hasOwnProperty(t)&&0===t.indexOf(r)&&n.push(t.replace(r,""));return e.resolve(n),e.promise()
},v.count=function(){var t=new l.Deferred;return l.when(v.keys()).done(function(e){t.resolve(e.length)
}),t.promise()},m.resolve()),this};return l?(l.each(["log","error","warn","info"],function(e,n){h[n]=function(){t[n]&&t[n].apply(t,arguments)
}}),a=h.log,s=h.error,u=h.warn,c=h.info,d.prototype.removeKeysRegExp=function(t){var e=this,n=new l.Deferred(function(n){l.when(e.keys()).done(function(r){var o,i=r.length,a=[];
for(o=0;i>o;o++)-1!==r[o].search(t)&&a.push(e.remove(r[o]));l.when(a).done(n.resolve())
})});return n.promise()},d.prototype.available=[],e=d.prototype.available,t.openDatabase!==void 0&&e.push("websqldatabase"),t.localStorage!==void 0&&e.push("localstorage"),t.sessionStorage!==void 0&&e.push("sessionstorage"),e.push("memory"),"function"==typeof t.log&&c("BlinkStorage(): available=["+e.join(",")+"]"),t.BlinkStorage=d,void 0):(f.alert("jQuery must be be loaded first",{title:"Storage error!"}),void 0)
}(this);
//@ sourceMappingURL=common.js.map
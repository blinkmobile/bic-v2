/*!
    Copyright (c) 2009, 280 North Inc. http://280north.com/
    MIT License. http://github.com/280north/narwhal/blob/master/README.md
*/
!function(){Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;
if("function"!=typeof b)throw new TypeError;var c=i.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};
e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(i.call(arguments)));return null!==g&&Object(g)===g?g:f
}return b.apply(a,c.concat(i.call(arguments)))};return d});var a,b,c,d,e,f=Function.prototype.call,g=Array.prototype,h=Object.prototype,i=g.slice,j=f.bind(h.toString),k=f.bind(h.hasOwnProperty);
if((e=k(h,"__defineGetter__"))&&(a=f.bind(h.__defineGetter__),b=f.bind(h.__defineSetter__),c=f.bind(h.__lookupGetter__),d=f.bind(h.__lookupSetter__)),Array.isArray||(Array.isArray=function(a){return"[object Array]"==j(a)
}),Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=u(this),c=arguments[1],d=0,e=b.length>>>0;
if("[object Function]"!=j(a))throw new TypeError;for(;e>d;)d in b&&a.call(c,b[d],d,b),d++
}),Array.prototype.map||(Array.prototype.map=function(a){var b=u(this),c=b.length>>>0,d=Array(c),e=arguments[1];
if("[object Function]"!=j(a))throw new TypeError;for(var f=0;c>f;f++)f in b&&(d[f]=a.call(e,b[f],f,b));
return d}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=u(this),c=b.length>>>0,d=[],e=arguments[1];
if("[object Function]"!=j(a))throw new TypeError;for(var f=0;c>f;f++)f in b&&a.call(e,b[f],f,b)&&d.push(b[f]);
return d}),Array.prototype.every||(Array.prototype.every=function(a){var b=u(this),c=b.length>>>0,d=arguments[1];
if("[object Function]"!=j(a))throw new TypeError;for(var e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;
return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=u(this),c=b.length>>>0,d=arguments[1];
if("[object Function]"!=j(a))throw new TypeError;for(var e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;
return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=u(this),c=b.length>>>0;
if("[object Function]"!=j(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;
var d,e=0;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in b){d=b[e++];
break}if(++e>=c)throw new TypeError}for(;c>e;e++)e in b&&(d=a.call(void 0,d,b[e],e,b));
return d}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=u(this),c=b.length>>>0;
if("[object Function]"!=j(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;
var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in b){d=b[e--];
break}if(--e<0)throw new TypeError}do e in this&&(d=a.call(void 0,d,b[e],e,b));while(e--);
return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=u(this),c=b.length>>>0;
if(!c)return-1;var d=0;for(arguments.length>1&&(d=s(arguments[1])),d=d>=0?d:c-Math.abs(d);c>d;d++)if(d in b&&b[d]===a)return d;
return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var b=u(this),c=b.length>>>0;
if(!c)return-1;var d=c-1;for(arguments.length>1&&(d=s(arguments[1])),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;
return-1}),!Object.keys){var l=!0,m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=m.length;
for(var o in{toString:null})l=!1;Object.keys=function v(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");
var v=[];for(var b in a)k(a,b)&&v.push(b);if(l)for(var c=0,d=n;d>c;c++){var e=m[c];
k(a,e)&&v.push(e)}return v}}Date.prototype.toISOString||(Date.prototype.toISOString=function(){var a,b,c;
if(!isFinite(this))throw new RangeError;for(a=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);
return a.slice(0,3).join("-")+"T"+a.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"
}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;
return this.toISOString()}),isNaN(Date.parse("2011-06-15T21:40:05+06:00"))&&(Date=function(a){var b=function e(b,c,d,f,g,h,i){var j=arguments.length;
if(this instanceof a){var k=1==j&&String(b)===b?new a(e.parse(b)):j>=7?new a(b,c,d,f,g,h,i):j>=6?new a(b,c,d,f,g,h):j>=5?new a(b,c,d,f,g):j>=4?new a(b,c,d,f):j>=3?new a(b,c,d):j>=2?new a(b,c):j>=1?new a(b):new a;
return k.constructor=e,k}return a.apply(this,arguments)},c=new RegExp("^(\\d{4})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");
for(var d in a)b[d]=a[d];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(b){var d=c.exec(b);
if(d){d.shift();for(var e=1;7>e;e++)d[e]=+(d[e]||(3>e?1:0)),1==e&&d[e]--;var f=+d.pop(),g=+d.pop(),h=d.pop(),i=0;
if(h){if(g>23||f>59)return 0/0;i=6e4*(60*g+f)*("+"==h?-1:1)}return a.UTC.apply(this,d)+i
}return a.parse.apply(this,arguments)},b}(Date));var p="	\n\f\r   ᠎             　\u2028\u2029﻿";
if(!String.prototype.trim||p.trim()){p="["+p+"]";var q=new RegExp("^"+p+p+"*"),r=new RegExp(p+p+"*$");
String.prototype.trim=function(){return String(this).replace(q,"").replace(r,"")}
}var s=function(a){return a=+a,a!==a?a=-1:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a
},t="a"!="a"[0],u=function(a){if(null==a)throw new TypeError;return t&&"string"==typeof a&&a?a.split(""):Object(a)
}}();var Hashtable=function(){function a(b){var c;if("string"==typeof b)return b;
if(typeof b.hashCode==k)return c=b.hashCode(),"string"==typeof c?c:a(c);if(typeof b.toString==k)return b.toString();
try{return String(b)}catch(d){return Object.prototype.toString.call(b)}}function b(a,b){return a.equals(b)
}function c(a,b){return typeof b.equals==k?b.equals(a):a===b}function d(a){return function(b){if(null===b)throw new Error("null is not a valid "+a);
if("undefined"==typeof b)throw new Error(a+" must not be undefined")}}function e(a,b,c,d){this[0]=a,this.entries=[],this.addEntry(b,c),null!==d&&(this.getEqualityFunction=function(){return d
})}function f(a){return function(b){for(var c,d=this.entries.length,e=this.getEqualityFunction(b);d--;)if(c=this.entries[d],e(b,c[0]))switch(a){case o:return!0;
case p:return c;case q:return[d,c[1]]}return!1}}function g(a){return function(b){for(var c=b.length,d=0,e=this.entries.length;e>d;++d)b[c+d]=this.entries[d][a]
}}function h(a,b){for(var c,d=a.length;d--;)if(c=a[d],b===c[0])return d;return null
}function i(a,b){var c=a[b];return c&&c instanceof e?c:null}function j(b,c){var d=this,f=[],g={},o=typeof b==k?b:a,p=typeof c==k?c:null;
this.put=function(a,b){m(a),n(b);var c,d,h=o(a),j=null;return c=i(g,h),c?(d=c.getEntryForKey(a),d?(j=d[1],d[1]=b):c.addEntry(a,b)):(c=new e(h,a,b,p),f[f.length]=c,g[h]=c),j
},this.get=function(a){m(a);var b=o(a),c=i(g,b);if(c){var d=c.getEntryForKey(a);if(d)return d[1]
}return null},this.containsKey=function(a){m(a);var b=o(a),c=i(g,b);return c?c.containsKey(a):!1
},this.containsValue=function(a){n(a);for(var b=f.length;b--;)if(f[b].containsValue(a))return!0;
return!1},this.clear=function(){f.length=0,g={}},this.isEmpty=function(){return!f.length
};var q=function(a){return function(){for(var b=[],c=f.length;c--;)f[c][a](b);return b
}};this.keys=q("keys"),this.values=q("values"),this.entries=q("getEntries"),this.remove=function(a){m(a);
var b,c=o(a),d=null,e=i(g,c);return e&&(d=e.removeEntryForKey(a),null!==d&&(e.entries.length||(b=h(f,c),l(f,b),delete g[c]))),d
},this.size=function(){for(var a=0,b=f.length;b--;)a+=f[b].entries.length;return a
},this.each=function(a){for(var b,c=d.entries(),e=c.length;e--;)b=c[e],a(b[0],b[1])
},this.putAll=function(a,b){for(var c,e,f,g,h=a.entries(),i=h.length,j=typeof b==k;i--;)c=h[i],e=c[0],f=c[1],j&&(g=d.get(e))&&(f=b(e,g,f)),d.put(e,f)
},this.clone=function(){var a=new j(b,c);return a.putAll(d),a}}var k="function",l=typeof Array.prototype.splice==k?function(a,b){a.splice(b,1)
}:function(a,b){var c,d,e;if(b===a.length-1)a.length=b;else for(c=a.slice(b+1),a.length=b,d=0,e=c.length;e>d;++d)a[b+d]=c[d]
},m=d("key"),n=d("value"),o=0,p=1,q=2;return e.prototype={getEqualityFunction:function(a){return typeof a.equals==k?b:c
},getEntryForKey:f(p),getEntryAndIndexForKey:f(q),removeEntryForKey:function(a){var b=this.getEntryAndIndexForKey(a);
return b?(l(this.entries,b[0]),b[1]):null},addEntry:function(a,b){this.entries[this.entries.length]=[a,b]
},keys:g(0),values:g(1),getEntries:function(a){for(var b=a.length,c=0,d=this.entries.length;d>c;++c)a[b+c]=this.entries[c].slice(0)
},containsKey:f(o),containsValue:function(a){for(var b=this.entries.length;b--;)if(a===this.entries[b][1])return!0;
return!1}},j}();!function(a){"use strict";var b,c=(a.BMP,{}),d={};c.createObjectURL=function(a,c){var e=b();
return!(!c||!c.autoRevoke)||!1,d[e]=a,"blob:"+e},c.revokeObjectURL=function(a){var b=a.replace("blob:","");
delete d[b]},c.retrieveObject=function(a){var b=a.replace("blob:","");return d[b]
},c.revokeAllObjectURLs=function(){d={}},b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"===a?b:8|3&b;
return c.toString(16)})},a.BMP=a.BMP||{},a.BMP.URL=c}(this),function(a){"use strict";
var b,c;a.BMP=a.BMP||{},b=a.BMP,b.MIME=b.MIME||{},c=b.MIME,c.TEXT_TYPES=["application/javascript","application/json","application/x-javascript"],c.isText=function(a){return 0===a.indexOf("text/")?!0:-1!==c.TEXT_TYPES.indexOf(a)?!0:!1
}}(this),function(a){"use strict";var b,c,d,e,f=!0;a.BMP.MIME;try{b=new a.Blob,b=null
}catch(g){f=!1}e=function(b){var c,d="",e=new a.Uint8Array(b),f=e.byteLength;for(c=0;f>c;c++)d+=String.fromCharCode(e[c]);
return a.btoa(d)},c=function(a,b){var c;if(a&&!Array.isArray(a))throw new Error("first argument should be an Array");
return b=b||{},this.size=0,this.type="",this.base64="",this.text="","object"==typeof b&&(this.type=b.type||this.type),a&&a.length&&(c=a[0],"string"==typeof c&&(0===c.indexOf("data:")&&"text/plain"===this.type?(this.size+=c.length,this.text+=c):(this.size+=c.length,this.base64+=c))),this
},c.createNative=function(b,d){var e;return d=d||{},f?new a.Blob(b,d):a.BlobBuilder?(e=new a.BlobBuilder,e.append(b),e.getBlob(d)):new c(b,d)
},c.fromBlobURL=function(b,d,e){d=d||function(){},e=e||function(){},a.URL&&a.URL.createObjectURL?c.nativelyFromBlobURL(b,d,e):this.fromNativeBlob(a.BMP.URL.retrieveObject(b),function(a){d(a)
},function(a){e(a)})},c.fromNativeBlob=function(b,d,e){var f=new a.FileReader;d=d||function(){},e=e||function(){},f.onload=function(a){var g;
f.onload=null;try{if(g=a.target.result,b=c.fromDataURI(a.target.result),!b)throw new Error("Blob.fromNativeBlob: fromDataURI gave no blob")
}catch(h){return e(h),void 0}d(b)},f.onerror=function(a){f.onerror=null,e(a.target.error)
};try{f.readAsDataURL(b)}catch(g){f.onload=null,f.onerror=null,e(g)}},c.fromDataURI=function(b){var d,e,f,g,h=new c;
d=b.split(","),g=d[1],d=d[0].split(":"),d=d[1].split(";"),e=d[0],f=d[1],"base64"===f?h.base64=g:h.text=g,h.type=e,h.size=g.length;
try{h=c.fromDataURI(a.atob(h.base64)),h.makeNested()}catch(i){}return h},c.nativelyFromBlobURL=function(b,d,f){var g,h;
d=d||function(){},f=f||function(){},g=new a.XMLHttpRequest,g.onreadystatechange=function(){var b,g,i;
this.readyState===a.XMLHttpRequest.DONE&&(this.onreadystatechange=null,b=this.getResponseHeader("Content-Type"),200===this.status?("arraybuffer"===this.responseType?(g=e(this.response),h=new c([g],{type:b})):"blob"===this.responseType?c.fromNativeBlob(this.response,function(a){d(a)
},function(a){f(a)}):"document"===this.responseType?(i=new a.XMLSerializer,g=a.btoa(i.serializeToString(this.response)),h=new c([g],{type:b})):"json"===this.responseType?(g=a.btoa(JSON.stringify(this.response)),h=new c([g],{type:b})):h=new c([this.response],{type:b}),h?d(h):f(new Error("error retrieving target Blob via Blob URL"))):f(new Error(this.url+" -> "+this.status)))
},g.open("GET",b),g.send()},c.isNested=function(){},c.prototype.makeNested=function(){var a="data:";
a+=this.type,a+=";base64,",a+=this.base64,this.type="text/plain",this.text=a,this.base64=null
},c.prototype.undoNested=function(){var a=c.fromDataURI(this.text);this.type=a.type,this.base64=a.base64,this.text=null
},c.prototype.toNative=function(){return a.BMP.Blob.createNative([a.atob(this.base64)],{type:this.type})
},a.BMP=a.BMP||{},a.BMP.Blob=c,a.BMP.NestedBlob=d}(this),function(a){"use strict";
var b,c,d,e=a.Modernizr,f=a.document,g=a.jQuery;return e?(e.addTest("filereader",function(){return!!(a.File&&a.FileList&&a.FileReader)
}),e.addTest("positionfixed",function(){var b,c,d=f.createElement("div"),e=!1,h=f.body||function(){return e=!0,f.documentElement.appendChild(f.createElement("body"))
}(),i=h.style.cssText;return h.style.cssText="height: 3000px; margin: 0; padding; 0;",d.style.cssText="position: fixed; top: 100px",h.appendChild(d),a.scrollTo(0,500),c=g(d).offset(),b=600===c.top,b||"undefined"==typeof d.getBoundingClientRect||(b=100===d.getBoundingClientRect().top),h.removeChild(d),h.style.cssText=i,a.scrollTo(0,1),e&&f.documentElement.removeChild(h),b
}),e.addTest("xpath",function(){var b=g.parseXML("<xml />");return!!a.XPathResult&&!!b.evaluate
}),e.addTest("documentfragment",function(){var a,b,c;try{return c=f.createElement("p"),a=f.createDocumentFragment(),b=f.createDocumentFragment(),b.appendChild(c),a.appendChild(b),c.parentNode!==a?!1:b.parentNode===a?!1:!0
}catch(d){return!1}}),e.inputtypes.file=function(){var a,b=navigator.userAgent,c=-1!==b.indexOf("Android"),d=c&&/Android 2\.(0|1)/.test(b);
return c&&(-1!==b.indexOf("Android 1.")||d)?!1:(a=f.createElement("input"),a.setAttribute("type","file"),a.disabled===!1)
}(),e.inputtypes.number=function(){var a,b;return e.inputtypes.number?(a=g('<input type="number" />'),a.val(1.5),b=a[0].checkValidity(),a.remove(),b):!1
}(),e.canvas&&(b=new Image,c=f.createElement("canvas"),d=c.getContext("2d"),b.onload=function(){d.drawImage(b,0,0),e.addTest("canvastodataurlpng",function(){return 0===c.toDataURL("image/png").indexOf("data:image/png")
}),e.addTest("canvastodataurljpeg",function(){return 0===c.toDataURL("image/jpeg").indexOf("data:image/jpeg")
}),e.addTest("canvastodataurlwebp",function(){return 0===c.toDataURL("image/webp").indexOf("data:image/webp")
})},b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="),void 0):(a.warn("Blink Modernizr tests need Modernizr to be included first."),void 0)
}(this),function(a){"use strict";var b=a.jQuery,c=a.Math;a.isBlinkGapDevice=function(){return a.PhoneGap&&"object"===b.type(a.device)&&a.device instanceof a.Device
},a.computeTimeout=function(a){var b=1e3/600;return c.floor(a*b+15e3)}}(this),function(a){"use strict";
var b,c=a.jQuery,d=c(a.document),e={history:[]},f=["log","error","warn","info"],g=function(){d.off("ready deviceready",g),setTimeout(function(){b=a.console||a.debug||{log:c.noop},c.each(f,function(d,e){var f=c.type(b[e]);
a[e]="function"===f?function(){b[e].apply(b,arguments)}:"object"===f?function(a){b[e](a)
}:"log"!==e?a.log:c.noop}),c.each(e.history,function(d,e){var f=a[e.fn],g=c.type(f);
"function"===g?f.apply(b,e.args):"object"===g&&f(e.args[0])}),delete e.history,c.each(f,function(a,b){delete e[b]
})},0)},h=function(){a.PhoneGap&&a.PhoneGap.available?e.history&&g():setTimeout(h,197)
};b=e,c.each(f,function(d,f){e[f]=function(){e.history.push({fn:f,args:c.makeArray(arguments)})
},a[f]=b[f]}),a.isBlinkGap?h():d.on("ready",g)}(this),function(a){var b=a.String;
b.prototype.hasEntities=function(){var a=this;return-1===a.indexOf("&")?!1:void 0
},b.prototype.repeat=function(a){var b,c="";for(b=0;a>b;b++)c+=this;return c}}(this),function(a){"use strict";
var b=a.Math,c=b.round;b.round=function(a,d){var e;return d&&0!==d?(e=b.pow(10,d),"number"==typeof d&&d>0&&(a=b.round(a*e)/e),a):c(a)
},"function"!=typeof b.uuid&&(b.uuid=function(){var a,c=b.uuid.CHARS,d=[],e=36;for(d[8]=d[13]=d[18]=d[23]="-",d[14]="4";e--;)d[e]||(a=0|16*b.random(),d[e]=c[19===e?8|3&a:a]);
return d.join("")},b.uuid.CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"])
}(this),function(a){"use strict";function b(a,b){var d=!0;return a&&"object"===c.type(a)?"array"===c.type(b)?(c.each(b,function(b,c){return"undefined"==typeof a[c]?(d=!1,!1):!0
}),d):"object"===c.type(b)?(c.each(b,function(b,e){return c.type(a[b])!==e?(d=!1,!1):!0
}),d):!1:!1}var c=a.jQuery,d=c.fn.attr,e=c.fn.show;c.isObject=function(a){return"object"===c.type(a)
},c.isPromise=function(a){var c="function",d={always:c,done:c,fail:c,pipe:c,progress:c,promise:c,state:c,then:c};
return b(a,d)},c.isDeferred=function(a){var d="function",e={notify:d,notifyWith:d,reject:d,rejectWith:d,resolve:d,resolveWith:d};
return c.isPromise(a)?b(a,e):!1},c.fn.attr=function(){var a,b,e;return this[0]&&0===arguments.length?(e={},b=this[0].attributes,a=b.length,c.each(b,function(a,b){var c=b.name||b.nodeName,d=b.value||b.nodeValue;
c&&(e[c.toLowerCase()]=d)}),e):d.apply(this,arguments)},c.fn.show=function(){return this.removeAttr("hidden"),this.removeClass("hidden"),e.apply(this,arguments)
},c.fn.isHidden=function(){return this.prop("hidden")||this.hasClass("hidden")?!0:this[0]&&this[0].style&&"none"===this[0].style.display
},c.fn.tag=function(){var a;return this.length>0?(a=this[0].nodeName||this[0].tagName||"",a.toLowerCase()):""
},c.fn.tagHTML=function(){var a,b=c(this);return this[0]?(a="<"+b.tag(),c.each(b.attr(),function(b,c){a+=" "+b+'="'+c+'"'
}),a+=" />"):void 0},c.whenArray=function(a){return c.when.apply(c,a)},c.resolveTimeout=function(){var a=c.makeArray(arguments),b=a.shift();
return setTimeout(function(){b.resolve.apply(b,a)},0),this},c.fn.appendWithCheck=function(b,d,e,f){var g=c(this),h=new c.Deferred,i=a.MyAnswers;
return"string"!==c.type(e)&&(e=b.match(/>([^<>\0\n\f\r\t\v]+)</),e||(e=b.match(/(\w+)/)),e="array"===c.type(e)?e[0]:b),"number"!==c.type(f)&&i.dispatch.add(function(){f=g.html().lastIndexOf(e)
}),i.dispatch.add(function(){g.append(b)}),i.dispatch.add(function(){var a=g.html();
"string"!==c.type(a)||!a||a.lastIndexOf(e)>f?h.resolve():d>0?c.when(g.appendWithCheck(b,--d,e,f)).fail(h.reject).then(h.resolve):h.reject()
}),h.promise()},c.fn.childrenAsProperties=function(){var a={};return c(this).children().each(function(b,d){var e=c(d),f=e.tag(),g=e.text();
f.length>0&&g.length>0&&(a[f]=g)}),a},c.getCachedScript=function(a,b){return b=c.extend(b||{},{dataType:"script",cache:!0,url:a}),c.ajax(b)
}}(this),function(a){"use strict";var b=a.jQuery,c=a._Blink,d=a._SERVER,e={PREFIX_GZ:"/_c_/",SUFFIX_GZ:"",PREFIX:"/_c_/",SUFFIX:""},f=["css","js"],g=function(a){var g;
return g=c&&c.cfg&&c.cfg.CDN_PLATFORM,g=b.isObject(g)?g:{},g=b.extend({},e,g),a=a||d&&d.HTTP_ACCEPT_ENCODING,a="string"==typeof a?a:"",-1===a.indexOf("gzip")&&(g.PREFIX_GZ=g.PREFIX,g.SUFFIX_GZ=g.SUFFIX),this.getURL=function(a){var c;
return a&&"string"==typeof a?(a=b.trim(a),a=a.replace(/^\/*/,""),c=a.match(/\.?(\w+)$/),c="array"===b.type(c)?c[1]:"",c&&-1!==b.inArray(c,f)?g.PREFIX_GZ+a+g.SUFFIX_GZ:g.PREFIX+a+g.SUFFIX):""
},this};c.preloadPage=function(a){var c,d=b("<iframe></iframe>"),e=30,f=function(){d.remove()
},g=function(){e--,b(c.document.body).hasClass("s-ready")?f():0>e?(warn('preloadPage(): timed out waiting for "s-ready"'),f()):setTimeout(g,2e3)
};d.attr({height:10,width:10,src:a}),d.css({position:"absolute",top:"-50px",left:"-50px"}),b("body").append(d),c=d[0].contentWindow,b.isWindow(c)&&c.document?b(c.document.body).hasClass("s-ready")?f():setTimeout(g,2e3):warn("preloadPage(): unable to find Window or Document in <iframe>")
},c.stringifyDOM=function(b){var c;return b.xml?b.xml:a.XMLSerializer?(c=new a.XMLSerializer,c.serializeToString(b)):null
},c.hasFontFor=function(d){var e,f,g,h,i=c.hasFontFor;try{i.results||(i.results={}),"boolean"==typeof i.results[d]?e=i.results[d]:(f=b(a.document.body),g=b("<span>"+d+"</span>"),h=b("<span>&#xFFFD;</span>"),g.add(h).appendTo(f),e=g.innerWidth()!==h.innerWidth(),i.results[d]=e,g.add(h).remove())
}catch(j){error(error),e=!1}return e},a._Blink.cdnp=new g}(this),function(a){"use strict";
var b=a.jQuery,c=function(a){function c(){if(!e.isPaused&&null===d&&0!==e.queue.length){var a,f=e.queue.shift();
"function"==typeof f&&(a=f()),"function"==typeof b&&b()instanceof b&&a&&"object"==typeof a&&a.promise&&"function"==typeof a.promise?(d=0,b.when(a).always(function(){d=setTimeout(function(){d=null,c()
},e.interval)})):d=setTimeout(function(){d=null,c()},e.interval)}}var d=null,e=this;
return this.queue=[],this.interval=a||0,this.isPaused=!1,this.poke=function(){c()
},this.pause=function(){clearTimeout(d),d=null,this.isPaused=!0},this.resume=function(){this.isPaused=!1,c()
},this};c.prototype.add=function(a){this.queue.push(a),this.poke()},a.BlinkDispatch=c
}(this),function(a){"use strict";var b,c,d,e,f,g,h,i,j,k=a.jQuery,l=a.alert,m={},n={},o=function(i,j,n){var o,p,q,r=this,s=new k.Deferred;
return("string"!=typeof j||j.length<1)&&(j="default"),("string"!=typeof n||n.length<1)&&(n="main"),"string"!=typeof i?i=b[0]:"sessionstorage"===i&&-1===k.inArray("sessionstorage",b)?i="memory":-1===k.inArray(i,b)&&(i=b[0]),r.type=i,r.partition=j,r.section=n,s.done(function(){g("BlinkStorage(): "+i+" -> "+j+" : "+n+" ready")
}),r.ready=function(){return s.promise()},"localstorage"===i||"sessionstorage"===i?(p="localstorage"===i?a.localStorage:a.sessionStorage,r.get=function(a){var b=new k.Deferred;
return b.resolve(p.getItem(j+":"+n+":"+a)),b.promise()},r.set=function(a,b){var c=new k.Deferred;
return p.setItem(j+":"+n+":"+a,b),c.resolve(),c.promise()},r.remove=function(a){var b=new k.Deferred;
return p.removeItem(j+":"+n+":"+a),b.resolve(),b.promise()},r.keys=function(){var a,b,c=new k.Deferred,d=[],e=p.length,f=j+":"+n+":";
for(a=0;e>a;a++)b=p.key(a),0===b.indexOf(f)&&d.push(b.replace(f,""));return c.resolve(d),c.promise()
},r.count=function(){var a=new k.Deferred;return k.when(r.keys()).done(function(b){a.resolve(b.length)
}),a.promise()},s.resolve()):"websqldatabase"===i?(c=1024*1024*(a.device?5:.75),d=function(a,b){var c=b&&a.executeSql?b:a;
return h("BlinkStorage error1: "+c.code+" "+c.message),(3===c.code||4===c.code||7===c.code)&&l("storage-error: "+c.code+"\n"+c.message),!1
},e=function(){p.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS `"+n+"` (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",[],s.resolve,s.reject)
},d,k.noop)},f=function(){try{p=a.openDatabase(j,"1.0",j,c),m[j]=p,p.readTransaction=p.readTransaction||p.transaction
}catch(b){throw s.reject(),"BlinkStorage: "+b}},o={get:"SELECT v FROM `"+n+"` WHERE k = ?",set:"INSERT OR REPLACE INTO `"+n+"` (k, v) VALUES (?, ?)",remove:"DELETE FROM `"+n+"` WHERE k = ?",keys:"SELECT k FROM `"+n+"`",count:"SELECT count(k) AS `count` FROM "+n},m[j]?p=m[j]:f(),e(),r.get=function(a){var b=new k.Deferred;
return p.readTransaction(function(c){c.executeSql(o.get,[a],function(a,c){1===c.rows.length?b.resolve(c.rows.item(0).v):(b.resolve(null),c.rows.length>1&&h("BlinkStorage: SELECT returned multiple rows"))
},d)},d,k.noop),b.promise()},r.set=function(a,b,c){var e=new k.Deferred,f=new k.Deferred,g=function(){setTimeout(function(){k.when(r.set(a,b,c)).fail(e.reject).then(e.resolve)
},2e3)};return c="number"!=typeof c?2:c,c--<=0?(e.reject(),e.promise()):(setTimeout(function(){p.transaction(function(c){c.executeSql(o.set,[a,b],function(a,b){1!==b.rowsAffected?(h("BlinkStorage: INSERT did not affect 1 row"),g()):f.resolve()
},function(a,b){d(b),g()})},function(a,b){d(a,b),g()},function(){"pending"===f.state()?g():e.resolve()
})},0),e.promise())},r.remove=function(a){var b=new k.Deferred;return p.transaction(function(c){c.executeSql(o.remove,[a],function(){b.resolve()
})},d,k.noop),b.promise()},r.keys=function(){var a=new k.Deferred;return p.readTransaction(function(b){b.executeSql(o.keys,[],function(b,c){var d,e,f=c.rows.length,g=[];
for(d=0;f>d;d++)e=c.rows.item(d),g.push(e.k);a.resolve(g)})},d,k.noop),a.promise()
},r.count=function(){var a=new k.Deferred;return p.readTransaction(function(b){b.executeSql(o.count,[],function(b,c){var d=c.rows.item(0).count;
k.isNumeric(d)?a.resolve(parseInt(d,10)):(h("BlinkStorage: SELECT count(k) non-numeric"),a.reject())
})},d,k.noop),a.promise()}):"memory"===i&&(q={},r.get=function(a){var b=new k.Deferred;
return b.resolve(q[j+":"+n+":"+a]),b.promise()},r.set=function(a,b){var c=new k.Deferred;
return q[j+":"+n+":"+a]=b,c.resolve(),c.promise()},r.remove=function(a){var b=new k.Deferred;
return delete q[j+":"+n+":"+a],b.resolve(),b.promise()},r.keys=function(){var a,b=new k.Deferred,c=[],d=j+":"+n+":";
for(a in q)q.hasOwnProperty(a)&&0===a.indexOf(d)&&c.push(a.replace(d,""));return b.resolve(c),b.promise()
},r.count=function(){var a=new k.Deferred;return k.when(r.keys()).done(function(b){a.resolve(b.length)
}),a.promise()},s.resolve()),this};return k?(k.each(["log","error","warn","info"],function(b,c){n[c]=function(){a[c]&&a[c].apply(a,arguments)
}}),g=n.log,h=n.error,i=n.warn,j=n.info,o.prototype.removeKeysRegExp=function(a){var b=this,c=new k.Deferred(function(c){k.when(b.keys()).done(function(d){var e,f=d.length,g=[];
for(e=0;f>e;e++)-1!==d[e].search(a)&&g.push(b.remove(d[e]));k.when(g).done(c.resolve())
})});return c.promise()},o.prototype.available=[],b=o.prototype.available,"undefined"!=typeof a.openDatabase&&b.push("websqldatabase"),"undefined"!=typeof a.localStorage&&b.push("localstorage"),"undefined"!=typeof a.sessionStorage&&b.push("sessionstorage"),b.push("memory"),"function"==typeof a.log&&j("BlinkStorage(): available=["+b.join(",")+"]"),a.BlinkStorage=o,void 0):(l("error: BlinkStorage.JS requires jQuery to be loaded first"),void 0)
}(this);
/*
//@ sourceMappingURL=common.js.map
*/